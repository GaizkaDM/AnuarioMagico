<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx/24.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.GaizkaFrost.Controlador"
            stylesheets="@../styles/estilos.css"
            prefWidth="1100" prefHeight="700"
            styleClass="glass-pane">

    <!-- ===================== TOP ===================== -->
    <top>
        <VBox spacing="10" styleClass="glass-pane">
            <children>

                <!-- Menú superior sencillo -->
                <MenuBar>
                    <menus>
                        <Menu text="Archivo">
                            <items>
                                <MenuItem fx:id="menuLogin" text="Iniciar Sesión"/>
                                <MenuItem fx:id="menuImportar" text="Importar desde API"/>
                                <MenuItem fx:id="menuSalir" text="Salir"/>
                            </items>
                        </Menu>
                    </menus>
                </MenuBar>

                <!-- Filtros + botón importar -->
                <HBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <children>
                        <Label text="Buscar:"/>
                        <TextField fx:id="txtBuscar" promptText="Nombre, casa, patronus..."/>

                        <Label text="Casa:"/>
                        <ComboBox fx:id="comboCasa" prefWidth="150"/>

                        <Label text="Estado:"/>
                        <ComboBox fx:id="comboEstado" prefWidth="120"/>

                        <CheckBox fx:id="checkFavoritos" text="Solo Favoritos"/>

                        <Button fx:id="btnLimpiar" text="Limpiar filtros"/>

                        <Pane HBox.hgrow="ALWAYS"/>

                        <Label fx:id="lblUsuario" text="" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                        <Button fx:id="btnImportarAPI" text="Importar desde API" styleClass="primary-button"/>
                    </children>
                </HBox>

            </children>
        </VBox>
    </top>

    <!-- ===================== CENTRO (tarjetas + paginación) ===================== -->
    <center>
        <BorderPane>

            <!-- TARJETAS -->
            <center>
                <ScrollPane fx:id="scrollPane" fitToWidth="true" fitToHeight="true">
                    <content>
                        <FlowPane fx:id="contenedorTarjetas"
                                  hgap="15" vgap="15"
                                  prefWrapLength="950"
                                  styleClass="glass-pane">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10"/>
                            </padding>
                        </FlowPane>
                    </content>
                </ScrollPane>
            </center>

            <!-- PAGINACIÓN -->
            <bottom>
                <HBox spacing="10" alignment="CENTER">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <children>
                        <Button fx:id="btnPaginaAnterior" text="Anterior" styleClass="secondary-button"/>
                        <Label fx:id="lblPagina" text="Página 1 de 1"/>
                        <Button fx:id="btnPaginaSiguiente" text="Siguiente" styleClass="secondary-button"/>
                    </children>
                </HBox>
            </bottom>

        </BorderPane>
    </center>

    <!-- ===================== BOTTOM ===================== -->
    <bottom>
        <Label fx:id="statusBar"
               text="Listo para usar magia..."
               style="-fx-padding: 5; -fx-background-color: #eeeeee;"/>
    </bottom>

</BorderPane>